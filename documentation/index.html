<html>
<h1><u>MediaControls Module</u></h1>

<h2>Description</h2>

<p>
Simple module for creating an invisible view which receives remote control events. This is useful for background
audio playback. Please note that this module does not enable your application to play audio in the background. It
just enables your application to receive the remote control events.
</p>
<p>
Also allows setting the "now playing" information, e.g. in the iOS 7 lock screen.
</p>

<h2>Accessing the MediaControls Module</h2>

<p>To access this module from JavaScript, you would do the following:</p>

<pre>var MediaControls = require("de.codewave.ti.mediacontrols");</pre>

<p>The MediaControls variable is a reference to the Module object.</p>

<h2>Reference</h2>

<h3>MediaControls.createView({left:0,top:0,width:0,height:0})</h3>

<p>Creates an invisible, zero-sized view which receives remote control events. Even though the view is invisible it
will receive touch events when added to your view. So please always create it with the above dimensions. The view
supports the following events:
<ul>
<li>remoteControlPlay</li>
<li>remoteControlPause</li>
<li>remoteControlStop</li>
<li>remoteControlTogglePlayPause</li>
<li>remoteControlPreviousTrack</li>
<li>remoteControlNextTrack.</li>
</ul>
</p>

<h3>MediaControls.createNowPlayingInfo({...})</h3>

<p>
Creates a now playing information object. The following properties are supported.
</p>
<p>
<table>
<tr><td>title</td><td>Track title (string)</td></tr>
<tr><td>albumTitle</td><td>Album title (string)</td></tr>
<tr><td>artist</td><td>Artist name (string)</td></tr>
<tr><td>albumArtist</td><td>Album artist name (string)</td></tr>
<tr><td>genre</td><td>Genre (string)</td></tr>
<tr><td>composer</td><td>Composer name (string)</td></tr>
<tr><td>playbackDuration</td><td>Playback duration in seconds (numeric)</td></tr>
<tr><td>albumTrackNumber</td><td>Track number (numeric)</td></tr>
<tr><td>albumTrackCount</td><td>Total track count (numeric)</td></tr>
<tr><td>discNumber</td><td>Disc number (numeric)</td></tr>
<tr><td>discCount</td><td>Total disc count (numeric)</td></tr>
<tr><td>artwork</td><td>Album artwork (URI, TiFile, TiBlob)</td></tr>
</table>
</p>
<p>
If you are using URIs please note that currently only images already in the Titanium image loader cache can
be used, i.e. the remote image should have been requested before. Using local files or blobs
is always safe.
</p>
<p>
After setting all necessary properties you simply call setNowPlaying() on the previously
created "NowPlayingInfo" instance to actually set the now playing information on the device.
</p>

<h3>MediaControls.clearNowPlaying()</h3>

<p>Clears the now playing information.</p>

<h2>Usage</h2>

<p>Simple example for receiving events:</p>

<pre>var MediaControls = require("de.codewave.ti.mediacontrols");
var view = MediaControls.createView({left:0,top:0,width:0,height:0});
view.addEventListener("remoteControlTogglePlayPause", function() {
    // handle the play/pause toggle event
});</pre>

<p>Simple example for setting "now playing" info:</p>

<pre>var MediaControls = require("de.codewave.ti.mediacontrols");
var info = MediaControls.createNowPlayingInfo({
	"title" : "Hells Bells",
	"album" ; "Best of Rock",
	"artist" : "AC/DC",
	"albumArtist" : "Various Artists",
	"playbackDuration" : 235,
	"albumTrackNumber" : 2,
	"albumTrackCount" : 14,
	"discNumber" : 1,
	"discCount" : 2
});
info.setNowPlaying();</pre>

<p>For a working sample app please see the included "app.js" file. Read the comment
in the file for short documentation of how to use it.</p>

<h2>Author</h2>

<p>Codewave Software<br />
info@codewave.de<br />
http://www.codewave.de</p>
</html>
